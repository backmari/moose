reset

#{length = 20}
#{fine_size = 0.005}
#{coarse_size = 2}
#{offset_length = 0.5*length-0.01*length}

create surface rectangle width {length} height {length}
webcut volume 1 with xplane offset {-offset_length}

imprint all
merge body all

curve 9 10 interval size {fine_size}
curve 6 scheme bias fine size {fine_size} coarse size {coarse_size} start vertex 6
curve 2 scheme bias fine size {fine_size} coarse size {coarse_size} start vertex 3
curve 5 scheme bias fine size {fine_size} coarse size {coarse_size} start vertex 6
curve 4 scheme bias fine size {fine_size} coarse size {coarse_size} start vertex 4
curve 7 scheme bias fine size {fine_size} coarse size {coarse_size} start vertex 5

mesh surface 2 3

sweep surface 2 3 perpendicular distance 1 switchside

imprint all
merge body all

volume 1 scheme sweep source surface 2 target surface 8 autosmooth_target off
volume 2 scheme sweep source surface 3 target surface 13 autosmooth_target off
curve 12 13 23 interval 2
mesh volume 1 2

#sideset 1 surface 2 3
#sideset 2 surface 5
#sideset 3 surface 8 13
#sideset 4 surface 10
#sideset 5 surface 4
#sideset 6 surface 6 9

#nodeset 1001 curve 13

#block 1 volume all
#block all element type HEX8

#export mesh "center_crack3d.e" overwrite
